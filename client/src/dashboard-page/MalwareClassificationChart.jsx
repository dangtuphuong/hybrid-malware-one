import * as React from "react";
import { PieChart, pieArcLabelClasses } from "@mui/x-charts/PieChart";
import { Paper } from "@mui/material"; // Import Paper for background

const size = {
  width: 500, // Set the width to match the RecallChart
  height: 300, // Set the height to match the RecallChart
};

const data = {
  data: [
    { label: "Trojan", value: 45 },
    { label: "Virus", value: 25 },
    { label: "Worm", value: 30 },
    { label: "Adware", value: 15 },
    { label: "Spyware", value: 20 },
    { label: "Ransomware", value: 10 },
  ],
  valueFormatter: (value) => `${value}%`, // Format value as a percentage
};

export default function MalwareClassificationChart() {
  return (
    <Paper elevation={3} style={{ padding: "16px", backgroundColor: "white" }}>
      <PieChart
        series={[
          {
            arcLabel: (item) => `${item.value}%`, // Display the value as a percentage
            arcLabelMinAngle: 35, // Minimum angle for displaying the label
            arcLabelRadius: "60%", // Radius of the arc label
            tooltip: {
              // Custom tooltip to display percentage correctly
              content: (item) => `${item.label}: ${item.value}%`, // Show label and value in tooltip
            },
            ...data,
          },
        ]}
        sx={{
          [`& .${pieArcLabelClasses.root}`]: {
            fontWeight: "bold", // Style for the arc labels
          },
        }}
        {...size} // Apply size properties
      />
    </Paper>
  );
}
