import { BarChart } from "@mui/x-charts/BarChart";
import { Paper } from "@mui/material"; // Import Paper for background
import { Typography } from "@mui/material";

// eslint-disable-next-line react/prop-types
export default function Chart({ label, data, loading }) {
  const labels = Object.keys(data);
  const series = Object.values(data);

  const min = Math.min(...series, 0.8) * 0.95;

  return (
    <Paper
      variant="outlined"
      style={{ padding: "16px", backgroundColor: "white" }}
    >
      <Typography fontWeight="600" variant="h6" gutterBottom>
        {label}
      </Typography>
      <BarChart
        loading={loading}
        borderRadius={4}
        resolveSizeBeforeRender
        height={300}
        series={[{ data: series, id: label }]}
        xAxis={[{ data: labels, scaleType: "band", categoryGapRatio: 0.5 }]}
        yAxis={[{ min }]}
      />
    </Paper>
  );
}
